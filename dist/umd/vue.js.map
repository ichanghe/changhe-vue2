{"version":3,"file":"vue.js","sources":["../../src/observer/index.js","../../src/state.js","../../src/init.js","../../src/index.js"],"sourcesContent":["class Observer{\n    constructor(value){\n        // definproperty 重新定义属性\n        this.walk(value);\n    }\n    walk(data){\n        console.log(data)\n        let keys = Object.keys(data)\n        keys.forEach((key)=>{\n            defineReactive(data,key,data[key])\n        })\n    }\n\n}\n function defineReactive(data,key,value){\n     observer(value)\n        Object.defineProperty(data,key,{\n            get(){\n                console.log('get value')\n                return value\n            },\n            set(newValue){\n                if(newValue == value)return\n                observer(newValue)\n                value= newValue\n\n                console.log('set value')\n            }\n        })\n}\nexport function observer(data){\n    // debugger\n    // console.log(data)\n    if(typeof data !== 'object'&& data !== null)return //不是对象就检测对象\n    console.log(data)\n    // debugger\n    return new Observer(data)\n}\n","\nimport {observer} from './observer/index'\nexport function initState(vm){\n    const opts = vm.$options\n    if(opts.props){\n        initProps(vm)\n    }\n    if(opts.methods){\n        initMethods(vm)\n    }\n    if(opts.data){\n        initData(vm)\n    }\n    if(opts.computed){\n        initComputed(vm)\n    }\n    if(opts.watch){\n        initWatch(vm)\n    }\n}\nfunction initProps(){}\nfunction initMethods(){}\nfunction initData(vm){\n    let data = vm.$options.data;\n    // debugger;\n    // console.log(typeof data)\n    vm._data = data = typeof data == 'function'?data.call(vm):data;\n    // 对象 或数组\n    // console.log(data)\n    // 数据劫持\n    observer(data)\n\n}\nfunction initComputed(){}\nfunction initWatch(){}","import {initState} from './state'\nexport function initMixin(Vue){\n    // console.log(options)\n    Vue.prototype._init = function(options){\n        const vm = this\n        vm.$options = options\n        // 响应式数据原理\n        // debugger;\n        initState(vm)\n        // 数据变化会更新\n    } \n}","import { initMixin } from './init'\nfunction Vue(options){\n    //初始化\n    this._init(options)\n    \n}\ninitMixin(Vue)\n\nexport default Vue;\n"],"names":[],"mappings":";;;;;;IAAA,MAAM,QAAQ;IACd,IAAI,WAAW,CAAC,KAAK,CAAC;IACtB;IACA,QAAQ,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IACzB,KAAK;IACL,IAAI,IAAI,CAAC,IAAI,CAAC;IACd,QAAQ,OAAO,CAAC,GAAG,CAAC,IAAI,EAAC;IACzB,QAAQ,IAAI,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,EAAC;IACpC,QAAQ,IAAI,CAAC,OAAO,CAAC,CAAC,GAAG,GAAG;IAC5B,YAAY,cAAc,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,EAAC;IAC9C,SAAS,EAAC;IACV,KAAK;AACL;IACA,CAAC;IACD,CAAC,SAAS,cAAc,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC;IACxC,KAAK,QAAQ,CAAC,KAAK,EAAC;IACpB,QAAQ,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,CAAC;IACvC,YAAY,GAAG,EAAE;IACjB,gBAAgB,OAAO,CAAC,GAAG,CAAC,WAAW,EAAC;IACxC,gBAAgB,OAAO,KAAK;IAC5B,aAAa;IACb,YAAY,GAAG,CAAC,QAAQ,CAAC;IACzB,gBAAgB,GAAG,QAAQ,IAAI,KAAK,CAAC,MAAM;IAC3C,gBAAgB,QAAQ,CAAC,QAAQ,EAAC;IAClC,gBAAgB,KAAK,EAAE,SAAQ;AAC/B;IACA,gBAAgB,OAAO,CAAC,GAAG,CAAC,WAAW,EAAC;IACxC,aAAa;IACb,SAAS,EAAC;IACV,CAAC;IACM,SAAS,QAAQ,CAAC,IAAI,CAAC;IAC9B;IACA;IACA,IAAI,GAAG,OAAO,IAAI,KAAK,QAAQ,GAAG,IAAI,KAAK,IAAI,CAAC,MAAM;IACtD,IAAI,OAAO,CAAC,GAAG,CAAC,IAAI,EAAC;IACrB;IACA,IAAI,OAAO,IAAI,QAAQ,CAAC,IAAI,CAAC;IAC7B;;ICnCO,SAAS,SAAS,CAAC,EAAE,CAAC;IAC7B,IAAI,MAAM,IAAI,GAAG,EAAE,CAAC,SAAQ;IAC5B,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,CAEb;IACL,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,CAEf;IACL,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;IACjB,QAAQ,QAAQ,CAAC,EAAE,EAAC;IACpB,KAAK;IACL,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,CAEhB;IACL,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,CAEb;IACL,CAAC;IAGD,SAAS,QAAQ,CAAC,EAAE,CAAC;IACrB,IAAI,IAAI,IAAI,GAAG,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC;IAChC;IACA;IACA,IAAI,EAAE,CAAC,KAAK,GAAG,IAAI,GAAG,OAAO,IAAI,IAAI,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC;IACnE;IACA;IACA;IACA,IAAI,QAAQ,CAAC,IAAI,EAAC;AAClB;IACA;;IC/BO,SAAS,SAAS,CAAC,GAAG,CAAC;IAC9B;IACA,IAAI,GAAG,CAAC,SAAS,CAAC,KAAK,GAAG,SAAS,OAAO,CAAC;IAC3C,QAAQ,MAAM,EAAE,GAAG,KAAI;IACvB,QAAQ,EAAE,CAAC,QAAQ,GAAG,QAAO;IAC7B;IACA;IACA,QAAQ,SAAS,CAAC,EAAE,EAAC;IACrB;IACA,MAAK;IACL;;ICVA,SAAS,GAAG,CAAC,OAAO,CAAC;IACrB;IACA,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO,EAAC;IACvB;IACA,CAAC;IACD,SAAS,CAAC,GAAG;;;;;;;;"}